<div class="pagetitle">
  <h1>Dashboard</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a (click)="home()" class="handPointer">Home</a>
      </li>
      <li class="breadcrumb-item active">Dashboard</li>
    </ol>
  </nav>
</div>
<!-- End Page Title -->

<section class="section dashboard">
  <div class="row">
    <div class="col-lg-12">
      <div class="mb-2 d-flex justify-content-end">
        <button class="btn btn-primary mx-1" (click)="exportToCSV()">
          CSV export
        </button>
      </div>
    </div>
    <div class="column col-lg-12">
      <form class="form-horizontal"  (submit)="false">
        <div class="form-group">
          <div class="row">
            <div class="col-lg-12 mb-2 d-flex justify-content-end">
              <input
                class="form-input"
                type="text"
                id="globalSearch"
                (input)="onChange($event)"
                placeholder="Search"
              />
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="column col-lg-12">
      <ngx-table
        [configuration]="configuration"
        [data]="data$ | async"
        #table
        [columns]="columns"
        >
        <ng-template let-row>
          <td>
            <span class="font-small">{{ row.studentId }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.studentName }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.class }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.section }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.fatherName }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.motherName }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.fatherPhoneNumber }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.motherPhoneNumber }}</span>
          </td>
          <td>
            <span class="font-small">{{ row.govtChildId }}</span>
          </td>
          <td>
           <i class="bx bxs-edit action" style="color:blue;" (click)="goToEdit(row)" placement="top" ngbTooltip="Edit"></i>
            <i class="bi bi-arrow-up-right-square-fill action" style="color: green;"(click)="goToEdit(row)" placement="top" ngbTooltip="View"></i>
            <i class="bi bi-trash-fill action" style="color: black;"(click)="goToEdit(row)"placement="top" ngbTooltip="Delete"></i>
          </td>
        </ng-template>
      </ngx-table>
    </div>
  </div>
</section>
